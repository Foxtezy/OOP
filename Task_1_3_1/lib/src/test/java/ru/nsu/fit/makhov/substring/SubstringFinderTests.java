/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package ru.nsu.fit.makhov.substring;

import java.util.Arrays;
import java.util.Collections;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.io.FileNotFoundException;

class SubstringFinderTests {

  private static SubstringFinder substringFinder;

  @BeforeEach
  public void setup() throws FileNotFoundException {
    substringFinder =
        new SubstringFinder(
            "src/test/resources/input.txt");
  }

  @Test
  public void substringFinderOneCharTest() {
    Assertions.assertEquals(
        Collections.emptyList(),
        substringFinder.findSubstring("'"));
    //first
    Assertions.assertEquals(Arrays.asList(0, 25, 51, 90, 116, 141),
        substringFinder.findSubstring("N"));
    //last
    Assertions.assertEquals(
        Arrays.asList(19, 21, 43, 64, 70, 87, 109, 169, 175),
        substringFinder.findSubstring("u"));
    Assertions.assertEquals(
        Arrays.asList(24, 50, 89, 115, 140),
        substringFinder.findSubstring("\n"));
  }

  @Test
  public void substringFinderWordTest() {
    Assertions.assertEquals(
        Arrays.asList(0, 25, 51, 90, 116, 141), substringFinder.findSubstring("Never gonna"));
    Assertions.assertEquals(
        Collections.emptyList(), substringFinder.findSubstring("We're no strangers to love"));
  }

  @Test
  public void SubstringFinderFileNotFoundExceptionTest() {
    Assertions.assertThrows(FileNotFoundException.class, () -> new SubstringFinder("BibaBobovich"));
  }
}
